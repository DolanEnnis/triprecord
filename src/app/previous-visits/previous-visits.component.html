<div class="container">
  <!-- Date Range Search -->
  <div class="search-section">
    <div class="controls-row">
      <form [formGroup]="dateRangeForm" class="date-filter-form">
        <mat-form-field appearance="outline">
          <mat-label>Start Date</mat-label>
          <input matInput [matDatepicker]="startPicker" formControlName="startDate">
          <mat-datepicker-toggle matIconSuffix [for]="startPicker"></mat-datepicker-toggle>
          <mat-datepicker #startPicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>End Date</mat-label>
          <input matInput [matDatepicker]="endPicker" formControlName="endDate">
          <mat-datepicker-toggle matIconSuffix [for]="endPicker"></mat-datepicker-toggle>
          <mat-datepicker #endPicker></mat-datepicker>
        </mat-form-field>

        <button mat-raised-button color="primary" (click)="searchByDateRange()">
          Search
        </button>

        <button mat-stroked-button (click)="clearDates()">
          <mat-icon>refresh</mat-icon>
          Reset
        </button>
      </form>
      
      <div class="right-controls">
        <div class="highlight-controls">
          <label>Order:</label>
          <mat-radio-group [(ngModel)]="sortOrder" [ngModelOptions]="{standalone: true}" (change)="onSortOrderChange()">
            <mat-radio-button value="inward">Inward</mat-radio-button>
            <mat-radio-button value="sailing">Sailing</mat-radio-button>
          </mat-radio-group>
        </div>
        
        <div class="highlight-controls">
          <label>Highlights:</label>
          <mat-radio-group [(ngModel)]="highlightMode" [ngModelOptions]="{standalone: true}">
            <mat-radio-button value="2">2 Line</mat-radio-button>
            <mat-radio-button value="3">3 Line</mat-radio-button>
          </mat-radio-group>
        </div>
      </div>
    </div>
    
    <div class="filter-container">
      <mat-form-field appearance="outline" class="filter-field">
        <mat-label>Filter</mat-label>
        <input matInput [(ngModel)]="filterValue" [ngModelOptions]="{standalone: true}" placeholder="Ex. Ship Name">
      </mat-form-field>
    </div>
  </div>

  <!-- Visits List -->
  <app-previous-visits-list 
    [data]="(visits$ | async) || []"
    [filterValue]="filterValue"
    [highlightMode]="highlightMode"
    [sortOrder]="sortOrder">
  </app-previous-visits-list>
</div>
